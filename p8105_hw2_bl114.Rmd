---
title: "Homework 2"
author: Ben Lebwohl
output: github_document
---

Load libraries
```{r}
library(tidyverse)
library(readxl)
```

## Problem 1

```{r}
trash_wheel_df = 
read_excel("./data_files/Trash-Wheel-Collection-Totals-8-6-19.xlsx", sheet = "Mr. Trash Wheel", range= "A2:N406") %>% 
  janitor::clean_names() %>% 
  drop_na(dumpster) 
trash_wheel_df
```

Round the number of sports balls to the nearest integer and converts the result to an integer variable 

```{r}
trash_wheel_df =
trash_wheel_df %>% 
  mutate (
  sports_balls = as.integer(sports_balls)
  )
trash_wheel_df
```


Read and clean precipitation data for 2017 and 2018. For each, omit rows without precipitation data and add a variable year. 

```{r}
precip_2017 = 
read_excel("./data_files/Trash-Wheel-Collection-Totals-8-6-19.xlsx", sheet = "2017 Precipitation", range= "A2:B14") %>% 
  janitor::clean_names() %>% 
  filter(total >0) %>% 
  mutate(year = "2017")

precip_2018 = 
read_excel("./data_files/Trash-Wheel-Collection-Totals-8-6-19.xlsx", sheet = "2018 Precipitation", range= "A2:B14") %>% 
  janitor::clean_names() %>% 
  filter(total >0) %>% 
  mutate(year = "2018")
```

Next, combine precipitation datasets and convert month to a character variable (the variable month.name is built into R and should be useful).
```{r}
combined_precip = 
bind_rows(precip_2017, precip_2018) %>%
  mutate(month = month.name[month]) %>%
  relocate(month, year)
combined_precip
```

For available data, what was the total precipitation in 2018? What was the median number of sports balls in a dumpster in 2017?

The total precipitation in 2018 was `r sum(precip_2018$total)` inches.


The median number of sports balls in a dumpster in 2017 was  `r median(trash_wheel_df[year=2017]$sports_balls)`.

## Problem 2

Read and clean the data; retain line, station, name, station latitude / longitude, routes served, entry, vending, entrance type, and ADA compliance. Convert the entry variable from character (YES vs NO) to a logical variable (the ifelse or recode function may be useful).

```{r}
transit_df = 
read_csv("./data_files/NYC_Transit_Subway_Entrance_And_Exit_Data.csv") %>% 
  janitor::clean_names() %>%
  select(line:entry, vending, ada) %>% 
  mutate(entry = ifelse(entry== "YES",T,F))
```

Write a short paragraph about this dataset â€“ explain briefly what variables the dataset contains, describe your data cleaning steps so far, and give the dimension (rows x columns) of the resulting dataset. Are these data tidy?


This data set contains a list of subway stations and their associated characteristics, including location (longitude and latitude), whether entry is available, and whether it is ADA-compliant. It is an 1868 by 19 dataset. It is not tidy, because the routes are listed as separate columns. 

Answer the following questions using these data:

How many distinct stations are there? Note that stations are identified both by name and by line (e.g. 125th St A/B/C/D; 125st 1; 125st 4/5); the distinct function may be useful here.

How many stations are ADA compliant?

What proportion of station entrances / exits without vending allow entrance?
